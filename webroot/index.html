<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diggy Diggy - Dwarf Digging Game</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/defs.js" defer></script>
    <script src="js/game.js" defer></script>
    <script src="js/main.js" defer></script>
</head>
<body>
    <header class="topbar">
    <div class="brand">
        <h1>Diggy Diggy Dwarf!</h1>
        <p class="subtitle">Help the dwarfs dig a deep hole! How deep? Yes!</p>
    </div>
    <div id="gold-display" class="gold-display">
        <span class="gold-icon">üí∞</span>
        <span class="gold-amount">1000</span>
    </div>
    <!-- Dwarfs overview modal -->
    <div id="dwarfs-modal" class="modal" aria-hidden="true" role="dialog" aria-label="Dwarfs overview dialog">
        <div class="modal-backdrop" data-action="close-modal"></div>
        <div class="modal-dialog" role="document">
            <header class="modal-header">
                <h2>Dwarfs</h2>
                <button class="modal-close" aria-label="Close dwarfs" data-action="close-modal">√ó</button>
            </header>
            <div class="modal-body">
                <p>This panel shows a quick overview of all dwarfs including level, tool, status and bucket contents.</p>
                <div id="dwarfs-list" aria-live="polite">
                    <!-- populated dynamically by JS -->
                </div>
            </div>
            <footer class="modal-footer">
                <button class="btn-secondary" data-action="close-modal">Close</button>
            </footer>
        </div>
    </div>
        <div class="topbar-controls">
            <button id="pause-button" onclick="togglePause()" title="Pause/Resume game">‚è∏Ô∏è</button>
            <button id="settings-button" onclick="openSettings()" title="Settings">‚öôÔ∏è</button>
        </div>
        <!-- Stock status: displays global collected material counts -->
        <div id="stock-status" class="stock-status" aria-live="polite"></div>
    </header>
    <main>
        <div class="grids">
        <table id="digging-grid" aria-label="Digging grid" class="digging-grid">
            <tbody>
                <!-- 10x10 static grid -->
                <tr>
                    <td class="cell" data-row="0" data-col="0"></td><td class="cell" data-row="0" data-col="1"></td><td class="cell" data-row="0" data-col="2"></td><td class="cell" data-row="0" data-col="3"></td><td class="cell" data-row="0" data-col="4"></td><td class="cell" data-row="0" data-col="5"></td><td class="cell" data-row="0" data-col="6"></td><td class="cell" data-row="0" data-col="7"></td><td class="cell" data-row="0" data-col="8"></td><td class="cell" data-row="0" data-col="9"></td>
                </tr>
                <tr>
                    <td class="cell" data-row="1" data-col="0"></td><td class="cell" data-row="1" data-col="1"></td><td class="cell" data-row="1" data-col="2"></td><td class="cell" data-row="1" data-col="3"></td><td class="cell" data-row="1" data-col="4"></td><td class="cell" data-row="1" data-col="5"></td><td class="cell" data-row="1" data-col="6"></td><td class="cell" data-row="1" data-col="7"></td><td class="cell" data-row="1" data-col="8"></td><td class="cell" data-row="1" data-col="9"></td>
                </tr>
                <tr>
                    <td class="cell" data-row="2" data-col="0"></td><td class="cell" data-row="2" data-col="1"></td><td class="cell" data-row="2" data-col="2"></td><td class="cell" data-row="2" data-col="3"></td><td class="cell" data-row="2" data-col="4"></td><td class="cell" data-row="2" data-col="5"></td><td class="cell" data-row="2" data-col="6"></td><td class="cell" data-row="2" data-col="7"></td><td class="cell" data-row="2" data-col="8"></td><td class="cell" data-row="2" data-col="9"></td>
                </tr>
                <tr>
                    <td class="cell" data-row="3" data-col="0"></td><td class="cell" data-row="3" data-col="1"></td><td class="cell" data-row="3" data-col="2"></td><td class="cell" data-row="3" data-col="3"></td><td class="cell" data-row="3" data-col="4"></td><td class="cell" data-row="3" data-col="5"></td><td class="cell" data-row="3" data-col="6"></td><td class="cell" data-row="3" data-col="7"></td><td class="cell" data-row="3" data-col="8"></td><td class="cell" data-row="3" data-col="9"></td>
                </tr>
                <tr>
                    <td class="cell" data-row="4" data-col="0"></td><td class="cell" data-row="4" data-col="1"></td><td class="cell" data-row="4" data-col="2"></td><td class="cell" data-row="4" data-col="3"></td><td class="cell" data-row="4" data-col="4"></td><td class="cell" data-row="4" data-col="5"></td><td class="cell" data-row="4" data-col="6"></td><td class="cell" data-row="4" data-col="7"></td><td class="cell" data-row="4" data-col="8"></td><td class="cell" data-row="4" data-col="9"></td>
                </tr>
                <tr>
                    <td class="cell" data-row="5" data-col="0"></td><td class="cell" data-row="5" data-col="1"></td><td class="cell" data-row="5" data-col="2"></td><td class="cell" data-row="5" data-col="3"></td><td class="cell" data-row="5" data-col="4"></td><td class="cell" data-row="5" data-col="5"></td><td class="cell" data-row="5" data-col="6"></td><td class="cell" data-row="5" data-col="7"></td><td class="cell" data-row="5" data-col="8"></td><td class="cell" data-row="5" data-col="9"></td>
                </tr>
                <tr>
                    <td class="cell" data-row="6" data-col="0"></td><td class="cell" data-row="6" data-col="1"></td><td class="cell" data-row="6" data-col="2"></td><td class="cell" data-row="6" data-col="3"></td><td class="cell" data-row="6" data-col="4"></td><td class="cell" data-row="6" data-col="5"></td><td class="cell" data-row="6" data-col="6"></td><td class="cell" data-row="6" data-col="7"></td><td class="cell" data-row="6" data-col="8"></td><td class="cell" data-row="6" data-col="9"></td>
                </tr>
                <tr>
                    <td class="cell" data-row="7" data-col="0"></td><td class="cell" data-row="7" data-col="1"></td><td class="cell" data-row="7" data-col="2"></td><td class="cell" data-row="7" data-col="3"></td><td class="cell" data-row="7" data-col="4"></td><td class="cell" data-row="7" data-col="5"></td><td class="cell" data-row="7" data-col="6"></td><td class="cell" data-row="7" data-col="7"></td><td class="cell" data-row="7" data-col="8"></td><td class="cell" data-row="7" data-col="9"></td>
                </tr>
                <tr>
                    <td class="cell" data-row="8" data-col="0"></td><td class="cell" data-row="8" data-col="1"></td><td class="cell" data-row="8" data-col="2"></td><td class="cell" data-row="8" data-col="3"></td><td class="cell" data-row="8" data-col="4"></td><td class="cell" data-row="8" data-col="5"></td><td class="cell" data-row="8" data-col="6"></td><td class="cell" data-row="8" data-col="7"></td><td class="cell" data-row="8" data-col="8"></td><td class="cell" data-row="8" data-col="9"></td>
                </tr>
                <tr>
                    <td class="cell" data-row="9" data-col="0"></td><td class="cell" data-row="9" data-col="1"></td><td class="cell" data-row="9" data-col="2"></td><td class="cell" data-row="9" data-col="3"></td><td class="cell" data-row="9" data-col="4"></td><td class="cell" data-row="9" data-col="5"></td><td class="cell" data-row="9" data-col="6"></td><td class="cell" data-row="9" data-col="7"></td><td class="cell" data-row="9" data-col="8"></td><td class="cell" data-row="9" data-col="9"></td>
                </tr>
            </tbody>
        </table>

        <!-- right-side / auxiliary grids container -->
        <div id="side-grids">
            <div id="drop-grid-panel" class="materials-panel" aria-live="polite">
            <h3>Functions</h3>
            <table id="drop-grid" aria-label="Drop-off grid">
                <tbody>
                    <tr>
                        <td class="cell" data-row="0" data-col="0"></td>
                        <td class="cell" data-row="0" data-col="1"></td>
                        <td class="cell" data-row="0" data-col="2"></td>
                    </tr>
                    <tr>
                        <td class="cell" data-row="1" data-col="0"></td><td class="cell" data-row="1" data-col="1"></td><td class="cell" data-row="1" data-col="2"></td>
                    </tr>
                    <tr>
                        <td class="cell" data-row="2" data-col="0"></td><td class="cell" data-row="2" data-col="1"></td><td class="cell" data-row="2" data-col="2"></td>
                    </tr>
                </tbody>
            </table>
            </div>
            <div id="materials-panel" class="materials-panel" aria-live="polite">
                <div class="materials-panel-header">
                    <h3>Warehouse</h3>
                </div>
                <div id="materials-list" class="warehouse-stock-list"></div>
            </div>
        </div>
        </div>
        <!-- controls moved to header topbar -->
    </main>

    <!-- Settings modal -->
    <div id="settings-modal" class="modal" aria-hidden="true" role="dialog" aria-label="Settings dialog">
        <div class="modal-backdrop" data-action="close-modal"></div>
        <div class="modal-dialog" role="document">
            <header class="modal-header">
                <h2>Settings</h2>
                <button class="modal-close" aria-label="Close settings" data-action="close-modal">√ó</button>
            </header>
            <div class="modal-body">
                <p>Your game is automatically saved after each action. You can delete your saved progress below.</p>
            </div>
            <footer class="modal-footer">
                <button id="settings-delete-save" class="btn-danger" onclick="deleteSave()">Delete Save</button>
                <button class="btn-secondary" data-action="close-modal">Close</button>
            </footer>
        </div>
    </div>
    <footer>
    </footer>
</body>
</html>